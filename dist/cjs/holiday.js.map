{"version":3,"file":"holiday.js","names":["Holiday","exports","year","_classCallCheck2","default","_defineProperty2","paque","getPaque","datePaque","concat","lundiDePaque","addDay","ascension","pentecote","vendrediSt","_createClass2","key","value","getHoliday","nouvelleAn","feteDutravail","victoire","national","assomption","toussaint","armistice","noel","getOtherHoliday","stEtienne","getAdmins","admins","n","c","Math","trunc","u","s","t","p","q","e","b","d","l","h","m","j","day","date","newDate","Date","setDate","getDate","daydate","getMonth"],"sources":["../../src/holiday.ts"],"sourcesContent":["export class Holiday {\n\n  private paque = '';\n  private lundiDePaque = '';\n  private ascension = '';\n  private pentecote = '';\n  private vendrediSt = '';\n  private nouvelleAn = '01-01';\n  private feteDutravail = '05-01';\n  private victoire = '05-08';\n  private national = '07-14';\n  private assomption = '08-15';\n  private toussaint = '11-01';\n  private armistice = '11-11';\n  private noel = '12-25';\n  private stEtienne = '12-26';\n\n  private admins = ['FR-57',  'FR-67', 'FR-68'];\n\n  constructor(year: number) {\n    this.paque = this.getPaque(year);\n    const datePaque = `${year}-${this.paque}`;\n    this.lundiDePaque = this.addDay(datePaque, 1);\n    this.ascension = this.addDay(datePaque, 39);\n    this.pentecote = this.addDay(datePaque, 50);\n    this.vendrediSt = this.addDay(datePaque, -2);\n  }\n\n  /**\n   * @returns {Array<String>} Liste de jours fériés français\n   */\n  getHoliday(): Array<string> {\n    return [\n      this.paque,\n      this.lundiDePaque,\n      this.ascension,\n      this.pentecote,\n      this.nouvelleAn,\n      this.feteDutravail,\n      this.victoire,\n      this.national,\n      this.assomption,\n      this.toussaint,\n      this.armistice,\n      this.noel\n    ];\n  }\n\n  /**\n   * @returns {Array<String>} Liste de jours fériés spécifiques à des départements\n   */\n  getOtherHoliday(): Array<string> {\n    return [\n      this.vendrediSt,\n      this.stEtienne\n    ];\n  }\n\n  /**\n   * @returns {Array<String>} Liste des départements ayant des jours fériés en plus\n   */\n  getAdmins(): Array<string> {\n    return this.admins;\n  }\n\n  /**\n   * Calcul la date de Pâque à une année donné\n   * https://fr.wikipedia.org/wiki/Calcul_de_la_date_de_P%C3%A2ques\n   * @param {number} year\n   * @returns {string} La date de Pâque au format MM-DD\n   */\n  getPaque(year: number): string {\n    const n = year % 19;\n    const c = Math.trunc(year / 100);\n    const u = year % 100;\n    const s = Math.trunc(c / 4);\n    const t = c % 4;\n    const p = Math.trunc((c + 8) / 25);\n    const q = Math.trunc((c - p + 1) / 3);\n    const e = (19 * n + c - s - q + 15) % 30;\n    const b = Math.trunc(u / 4);\n    const d = u % 4;\n    const l = (2 * t + 2 * b - e - d + 32) % 7;\n    const h = Math.trunc((n + 11 * e + 22 * l) / 451);\n    const m = Math.trunc((e + l - 7 * h + 114) / 31);\n    const j = ((e + l - 7 * h + 114) % 31) + 1;\n\n    const day = j < 10 ? `0${j}` : j;\n    return `0${m}-${day}`;\n  }\n\n  /**\n   * Incrémente une date\n   * @param {string} date\n   * @param {number} day Nombre de jour à ajouter\n   * @returns {string} La nouvelle date au format MM-DD\n   */\n  addDay(date: string, day: number): string {\n    const newDate = new Date(date);\n    newDate.setDate(newDate.getDate() + day);\n    const daydate = newDate.getDate() < 10 ? `0${newDate.getDate()}` : newDate.getDate();\n    return `0${newDate.getMonth() + 1}-${daydate}`;\n  }\n\n}\n"],"mappings":";;;;;;;;;;IAAaA,OAAO,GAAAC,OAAA,CAAAD,OAAA;EAmBlB,SAAAA,QAAYE,IAAY,EAAE;IAAA,IAAAC,gBAAA,CAAAC,OAAA,QAAAJ,OAAA;IAAA,IAAAK,gBAAA,CAAAD,OAAA,iBAjBV,EAAE;IAAA,IAAAC,gBAAA,CAAAD,OAAA,wBACK,EAAE;IAAA,IAAAC,gBAAA,CAAAD,OAAA,qBACL,EAAE;IAAA,IAAAC,gBAAA,CAAAD,OAAA,qBACF,EAAE;IAAA,IAAAC,gBAAA,CAAAD,OAAA,sBACD,EAAE;IAAA,IAAAC,gBAAA,CAAAD,OAAA,sBACF,OAAO;IAAA,IAAAC,gBAAA,CAAAD,OAAA,yBACJ,OAAO;IAAA,IAAAC,gBAAA,CAAAD,OAAA,oBACZ,OAAO;IAAA,IAAAC,gBAAA,CAAAD,OAAA,oBACP,OAAO;IAAA,IAAAC,gBAAA,CAAAD,OAAA,sBACL,OAAO;IAAA,IAAAC,gBAAA,CAAAD,OAAA,qBACR,OAAO;IAAA,IAAAC,gBAAA,CAAAD,OAAA,qBACP,OAAO;IAAA,IAAAC,gBAAA,CAAAD,OAAA,gBACZ,OAAO;IAAA,IAAAC,gBAAA,CAAAD,OAAA,qBACF,OAAO;IAAA,IAAAC,gBAAA,CAAAD,OAAA,kBAEV,CAAC,OAAO,EAAG,OAAO,EAAE,OAAO,CAAC;IAG3C,IAAI,CAACE,KAAK,GAAG,IAAI,CAACC,QAAQ,CAACL,IAAI,CAAC;IAChC,IAAMM,SAAS,MAAAC,MAAA,CAAMP,IAAI,OAAAO,MAAA,CAAI,IAAI,CAACH,KAAK,CAAE;IACzC,IAAI,CAACI,YAAY,GAAG,IAAI,CAACC,MAAM,CAACH,SAAS,EAAE,CAAC,CAAC;IAC7C,IAAI,CAACI,SAAS,GAAG,IAAI,CAACD,MAAM,CAACH,SAAS,EAAE,EAAE,CAAC;IAC3C,IAAI,CAACK,SAAS,GAAG,IAAI,CAACF,MAAM,CAACH,SAAS,EAAE,EAAE,CAAC;IAC3C,IAAI,CAACM,UAAU,GAAG,IAAI,CAACH,MAAM,CAACH,SAAS,EAAE,CAAC,CAAC,CAAC;EAC9C;;EAEA;AACF;AACA;EAFE,WAAAO,aAAA,CAAAX,OAAA,EAAAJ,OAAA;IAAAgB,GAAA;IAAAC,KAAA,EAGA,SAAAC,UAAUA,CAAA,EAAkB;MAC1B,OAAO,CACL,IAAI,CAACZ,KAAK,EACV,IAAI,CAACI,YAAY,EACjB,IAAI,CAACE,SAAS,EACd,IAAI,CAACC,SAAS,EACd,IAAI,CAACM,UAAU,EACf,IAAI,CAACC,aAAa,EAClB,IAAI,CAACC,QAAQ,EACb,IAAI,CAACC,QAAQ,EACb,IAAI,CAACC,UAAU,EACf,IAAI,CAACC,SAAS,EACd,IAAI,CAACC,SAAS,EACd,IAAI,CAACC,IAAI,CACV;IACH;;IAEA;AACF;AACA;EAFE;IAAAV,GAAA;IAAAC,KAAA,EAGA,SAAAU,eAAeA,CAAA,EAAkB;MAC/B,OAAO,CACL,IAAI,CAACb,UAAU,EACf,IAAI,CAACc,SAAS,CACf;IACH;;IAEA;AACF;AACA;EAFE;IAAAZ,GAAA;IAAAC,KAAA,EAGA,SAAAY,SAASA,CAAA,EAAkB;MACzB,OAAO,IAAI,CAACC,MAAM;IACpB;;IAEA;AACF;AACA;AACA;AACA;AACA;EALE;IAAAd,GAAA;IAAAC,KAAA,EAMA,SAAAV,QAAQA,CAACL,IAAY,EAAU;MAC7B,IAAM6B,CAAC,GAAG7B,IAAI,GAAG,EAAE;MACnB,IAAM8B,CAAC,GAAGC,IAAI,CAACC,KAAK,CAAChC,IAAI,GAAG,GAAG,CAAC;MAChC,IAAMiC,CAAC,GAAGjC,IAAI,GAAG,GAAG;MACpB,IAAMkC,CAAC,GAAGH,IAAI,CAACC,KAAK,CAACF,CAAC,GAAG,CAAC,CAAC;MAC3B,IAAMK,CAAC,GAAGL,CAAC,GAAG,CAAC;MACf,IAAMM,CAAC,GAAGL,IAAI,CAACC,KAAK,CAAC,CAACF,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;MAClC,IAAMO,CAAC,GAAGN,IAAI,CAACC,KAAK,CAAC,CAACF,CAAC,GAAGM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;MACrC,IAAME,CAAC,GAAG,CAAC,EAAE,GAAGT,CAAC,GAAGC,CAAC,GAAGI,CAAC,GAAGG,CAAC,GAAG,EAAE,IAAI,EAAE;MACxC,IAAME,CAAC,GAAGR,IAAI,CAACC,KAAK,CAACC,CAAC,GAAG,CAAC,CAAC;MAC3B,IAAMO,CAAC,GAAGP,CAAC,GAAG,CAAC;MACf,IAAMQ,CAAC,GAAG,CAAC,CAAC,GAAGN,CAAC,GAAG,CAAC,GAAGI,CAAC,GAAGD,CAAC,GAAGE,CAAC,GAAG,EAAE,IAAI,CAAC;MAC1C,IAAME,CAAC,GAAGX,IAAI,CAACC,KAAK,CAAC,CAACH,CAAC,GAAG,EAAE,GAAGS,CAAC,GAAG,EAAE,GAAGG,CAAC,IAAI,GAAG,CAAC;MACjD,IAAME,CAAC,GAAGZ,IAAI,CAACC,KAAK,CAAC,CAACM,CAAC,GAAGG,CAAC,GAAG,CAAC,GAAGC,CAAC,GAAG,GAAG,IAAI,EAAE,CAAC;MAChD,IAAME,CAAC,GAAI,CAACN,CAAC,GAAGG,CAAC,GAAG,CAAC,GAAGC,CAAC,GAAG,GAAG,IAAI,EAAE,GAAI,CAAC;MAE1C,IAAMG,GAAG,GAAGD,CAAC,GAAG,EAAE,OAAArC,MAAA,CAAOqC,CAAC,IAAKA,CAAC;MAChC,WAAArC,MAAA,CAAWoC,CAAC,OAAApC,MAAA,CAAIsC,GAAG;IACrB;;IAEA;AACF;AACA;AACA;AACA;AACA;EALE;IAAA/B,GAAA;IAAAC,KAAA,EAMA,SAAAN,MAAMA,CAACqC,IAAY,EAAED,GAAW,EAAU;MACxC,IAAME,OAAO,GAAG,IAAIC,IAAI,CAACF,IAAI,CAAC;MAC9BC,OAAO,CAACE,OAAO,CAACF,OAAO,CAACG,OAAO,CAAC,CAAC,GAAGL,GAAG,CAAC;MACxC,IAAMM,OAAO,GAAGJ,OAAO,CAACG,OAAO,CAAC,CAAC,GAAG,EAAE,OAAA3C,MAAA,CAAOwC,OAAO,CAACG,OAAO,CAAC,CAAC,IAAKH,OAAO,CAACG,OAAO,CAAC,CAAC;MACpF,WAAA3C,MAAA,CAAWwC,OAAO,CAACK,QAAQ,CAAC,CAAC,GAAG,CAAC,OAAA7C,MAAA,CAAI4C,OAAO;IAC9C;EAAC;AAAA","ignoreList":[]}